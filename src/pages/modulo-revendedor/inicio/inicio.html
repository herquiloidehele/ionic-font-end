<ion-header>

  <ion-navbar color="secondary">
    <button ion-button icon-only menuToggle>
      <ion-icon name="menu"></ion-icon>
    </button>
    <ion-title>Prod. Disponibilizados</ion-title>
  </ion-navbar>

</ion-header>


<ion-content>


  <div *ngIf="ofertas.length == 0" class="message-empty" text-center>
    <span>Ainda nao existem Ofertas de Produtos</span>
    <button ion-button color="secondary" (click)="goToInteresses()">Registe Interesses</button>
  </div>


  <ion-card *ngFor="let oferta of ofertas" (click)="goToDetalhesOferta(oferta)">
    <ion-card-content >

      <ion-grid>
        <ion-row>
          <ion-col col-5 class="esquerda" text-center>
            <div class="ion-icon-content">
              <ion-icon name="leaf"></ion-icon>
            </div>
            <p class="nome-produto">{{oferta.produto.designacao}}</p>
            <p class="data" color="white">{{oferta.quantidade}} {{oferta.unidade_medida.designacao}}</p>
          </ion-col>

          <ion-col col-7 class="direita">
            <div class="info">
              <div class="nome-produtor">
                <ion-icon name="person" icon-start color="blue"></ion-icon>
                <span>{{oferta.produtor.user.nome}}</span>
              </div>

              <div class="quantidade">
                <ion-icon icon-start name="calendar" color="primary"></ion-icon>
                <span>{{getData(oferta.created_at.date) | date: 'dd/MM/yyyy'}}</span>
              </div>

              <div class="parcelamento" *ngIf="oferta.parcelas.length > 0">
              <ion-icon icon-start name="ios-barcode-outline" color="primary"></ion-icon>
              <span>{{'parcelas ('+oferta.parcelas.length+')'}}</span>
            </div>

              <div class="preco" >
                <ion-icon name="cash"></ion-icon>
                <span>{{oferta.tipo_preco == 'total' ? oferta.preco + ' MZN' : oferta.preco_unidade + ' MZN/'+ oferta.unidade_medida.abreviatura  }}</span>
              </div>

            </div>
          </ion-col>
        </ion-row>
      </ion-grid>
    </ion-card-content>
  </ion-card>


</ion-content>
